<!--
[数当てゲーム「比較演算子、データ型」]
-->

<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<title>comparison</title>
		<link href="../../_common/images/favicon.ico" rel="shortcut icon">
		<link href="https://fonts.googleapis.com/css?family=M+PLUS+1p:400,500" rel="stylesheet">
		<link href="../../_common/css/style.css" rel="stylesheet">
	</head>
	<body>
		<header>
			<div class="container">
				<h1>数当てゲーム</h1>
				<h2>様々な比較演算子を利用する</h2>
			</div><!-- /.container -->
		</header>
		<main>
			<div class="container">
				<section>
				</section>
			</div><!-- /.container -->
		</main>
		<footer>
				<div class="container">
					<p>JavaScript Samples</p>
				</div><!-- /.container -->
		</footer>
		<script>
			'use strict';

			const number = Math.floor(Math.random() * 6);
			const answer = parseInt(window.prompt('数当てゲーム。0〜5の数字を入力してね。'));
			let message;
			if(answer === number) {
				message = 'あたり！';
			} else if(answer < number) {
				message = '残念でした！もっと大きい';
			} else if(answer > number) {
				message = '残念でした！もっと小さい';
			} else {
				message = '0〜5の数字を入力してね。';
			}
			window.alert(message);
		</script>
	</body>
</html>

<!--
今回書いたプログラムを確認する。
36行目では、ランダムで0~5までの整数を生成して、それを定数numberに代入している。
つまり、定数numberには、0,1,2,3,4,5のいずれかの数字が保存されていることになる。
ここでは、Math.randomは、ランダムな数字を発生させるメソッドということを押さえておく。
37行目ではプロンプトを表示して、入力されたテキストを定数answerに代入している。
ただし、入力されたテキストをそのままanswerに代入するのではなく、
parseaIntメソッドを使って一旦、整数に変換してから代入している。
書式 : parseInt(変換したい文字列)
-->

<!--
[今回の定義についての確認]
今までの実習では、変数を定義すると同時にデータを代入していた。
今回は、先に変数messageを定義だけしておいて、データの代入は後から行っていく。
変数を定義しているのは、38行目の「let message;」。

letに続けて変数名、そのすぐ後に終了のセミコロンを書くと、データを代入せずに変数の定義だけをすることができる。
変数に初期値のようなものがない場合や、今回のようにif文などで代入されるデータが変わる場合には、
先に変数の定義だけをすることがある。
書式 : let 変数名;
-->

<!--
[３種類の条件式]
今回は、ifとelse ifが合わせて３つ、条件式も同じ数だけ出てきた。条件式を中心に見ていく。
どの条件式も、定数answerと定数numberを比較している。
定数answerにはプロンプトに入力されたテキストに変換されたものが、
定数numberには0〜5のいずれかの整数が、それぞれ保存されている。

・if(answer === number) {
最初の条件式では「===」を使っている。比較演算子で、定数answerと定数numberに保存されている
データが同じならばこの条件式がtrueになり、定数messageに「あたり！」という文字列が代入される。
同じでなければ、次のif文に移る。

・else if(answer < number) {
２番目の条件式では、小なり記号(<)の左側と右側を比較している。「<」は、左側が右側よりも
小さいかどうかを評価する記号。左側が右側よりも小さければ評価結果はtrue、
そうでなければfalseになる。左側が右側"より"小さいときだけtrueになるので、左右が同じ場合はfalseになる。
/ answerが3、numberが5の場合、条件式が(3 < 5)となりtrue
/ answerが4、numberが1の場合、条件式が(4 < 1)となりfalse
この条件式がtrueになったとき、変数messageに「残念でした！もっと大きい」という文字列が代入される。

・else if(answer > number) {
３番目の条件式では、大なり記号(>)で左側と右側を比較している。
左側が右側より大きければtrue、そうでなければfalseになる。
/ answerが3、numberが5の場合、条件式が(3 > 5)となりfalse
/ answerが4、numberが1の場合、条件式が(4 > 1)となりtrue
そして、この条件式がtrueになったときは、変数messageに「残念でした！もっと小さい」という文字列が代入される。

・===以外の比較演算子
今回は３種類の記号「===」「<」「>」を使った。３つとも、記号の左側と右側を比較しているという点は同じなので、
まとめて「比較演算子」と呼ばれている。if文や、この後に出てくる「繰り返し文」の条件式を作るために使われる。
比較演算子は、今回使用した３つ以外にもある。

/ a === b : aとbが同じときtrue (例 : 3 + 6 === 9)
/ a !== b : aとbが同じでないときtrue (例 : 40 + 6 !== 42)
/ a < b   : aがbより小さいときtrue (例 : 7 * 52 < 365)
/ a <= b  : aがb以下のときtrue (例 : 3 * 7 <= 21)
/ a > b   : aがbより大きいときtrue (例 : 15 * 4 > 45)
/ a >= b  : aがb以上のときtrue (例 : 1 + 2 >= 3)

なお、「aがb以下」の「<=」は、これで１つの演算子。記号の順序をひっくり返して「=<」としてはいけない。
演算子として認識されなくなるので、プログラムとして動かなくなる。
同様に「aがb以上」の「>=」も、「=>」としてはいけない。

・最後のelseは？
ここまでに出てきた３つの条件式の全てがfalseになると、最後のelseの{~}内の処理が実行される。
３つの条件式が全てfalseになるのは、プロンプトに数字以外のものが入ったとき。

[parseIntメソッドの役割]
parseIntは()内のパラメータを「整数に変換するよう努力するメソッド」。この"努力する"というところがミソで、
変換できないもの...例えば、プロンプトに「コンピュータよ、変換してみろ！」という文章が入力されている場合...は、
数値に変換されない。
プロンプトに入力されたテキストは、それが仮に「３」であっても、数値ではなく「文字」として認識される。
ただ、その後の処理で、定数answerと定数numberの大小を比較するので、そのままだと困る。
両方の定数に保存されているのが「数値」でないと大小を比較できないから。
そこで、parseIntメソッドを使ってプロンプトの入力内容を整数に変換した。
定数answerの値が数値(整数)であれば、数値と数値の比較ができるようになる。

・データ型
このように、データによっては「できないこと」がある。
JSで扱うデータは、文字列の場合もあれば数値の場合もある。
trueとfalseのブール値も、また別の種類のデータ。こうした、文字列や数値、ブール値といった
データの種類のことを「データ型」という。データ型によって、できることが違ってくる。
/ 数値と数値では、足し算などいろいろな計算ができるが、文字列ではできない
/ 数値と数値では、大小を比較することはできるが、文字列ではできない
/ 文字列と文字列はくっつけることができるが、数値と数値ではできない
今回のように、変数や定数を組み合わせて何か操作をするときで、そのままでは
やりたい操作ができない場合にはデータ型を変換する。
そのようなときは「データ型が違うから変換するのだな」と、思い出せばいい。

-->
